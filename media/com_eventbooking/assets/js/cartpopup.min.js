!function(u){closeCartPopup=function(){u.colorbox.close()},checkOut=function(t){document.location.href=t},updateCart=function(t){if(checkQuantity()){var e=u("input[name='event_id[]']").map(function(){return u(this).val()}).get(),a=u("input[name='quantity[]']").map(function(){return u(this).val()}).get(),n=EBBaseAjaxUrl+"&task=cart.update_cart&Itemid="+t+"&redirect=0&event_id="+e+"&quantity="+a;u.ajax({type:"POST",url:n,dataType:"html",beforeSend:function(){u("#add_more_item").before('<span class="wait"><i class="fa fa-2x fa-refresh fa-spin"></i></span>')},success:function(t){u("#cboxLoadedContent").html(t),u(".wait").remove()},error:function(t,e,a){alert(a+"\r\n"+t.statusText+"\r\n"+t.responseText)}})}},removeCart=function(t,e){var a=EBBaseAjaxUrl+"&task=cart.remove_cart&id="+t+"&Itemid="+e+"&redirect=0";u.ajax({type:"POST",url:a,dataType:"html",beforeSend:function(){u("#add_more_item").before('<span class="wait"><i class="fa fa-2x fa-refresh fa-spin"></i></span>')},success:function(t){u("#cboxLoadedContent").html(t),jQuery.colorbox.resize(),u(".wait").remove()},error:function(t,e,a){alert(a+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},checkQuantity=function(){for(var t,e,a,n=u("input[name='event_id[]']").map(function(){return u(this).val()}),r=u("input[name='quantity[]']").map(function(){return u(this).val()}),i=0;i<n.length;i++)if(t=n[i],e=r[i],-1!=(a=findIndex(t,arrEventIds))&&(availableQuantity=arrQuantities[a],-1!=availableQuantity&&e>availableQuantity))return alert(EB_INVALID_QUANTITY+availableQuantity),u('input[name="quantity[]"]')[i].focus(),!1;return!0},findIndex=function(t,e){for(var a=0;a<e.length;a++)if(e[a]==t)return a;return-1}}(Eb.jQuery);