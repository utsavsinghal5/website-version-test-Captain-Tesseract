!function(i,l){Joomla.submitbutton=function(o){var t=i.adminForm;if("cancel"===o)Joomla.submitform(o);else{if(""===t.name.value)return alert(Joomla.JText._("EB_ENTER_LOCATION_NAME")),void t.name.focus();Joomla.submitform(o)}},l(i).ready(function(){var o=Joomla.getOptions("coordinates"),t=Joomla.getOptions("zoomLevel"),a=Joomla.getOptions("baseUri"),e=L.map("map-canvas",{center:[o[0],o[1]],zoom:t,zoomControl:!0,attributionControl:!1,scrollWheelZoom:!1});L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{id:"mapbox.streets"}).addTo(e);var n=L.marker([o[0],o[1]],{draggable:!1}).addTo(e);l("#address").autocomplete({serviceUrl:a+"/index.php?option=com_eventbooking&task=location.search",minChars:3,onSelect:function(o){var t=i.adminForm;o.name&&""===t.name.value&&(t.name.value=o.name),o.coordinates&&(t.coordinates.value=o.coordinates),o.city&&l("#city").val(o.city),o.state&&l("#state").val(o.state);var a=L.latLng(o.lat,o.long);n.setLatLng(a),e.panTo(a)}}),l("#btn-save-location").on("click",function(){Joomla.submitbutton("save")}),l("#btn-cancel").on("click",function(){Joomla.submitbutton("cancel")}),l("#btn-delete-location").on("click",function(){confirm(Joomla.JText._("EB_DELETE_LOCATION_CONFIRM"))&&Joomla.submitform("delete")})})}(document,jQuery);